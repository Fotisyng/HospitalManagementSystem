{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="container my-4">
    <h2 class="text-center mb-4">Edit Patient Profile</h2>
    <div class="card shadow-sm">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}

                <div class="form-group">
                    <label for="{{ form.first_name.id_for_label }}">First Name</label>
                    {{ form.first_name|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.last_name.id_for_label }}">Last Name</label>
                    {{ form.last_name|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.gender.id_for_label }}">Gender</label>
                    {{ form.gender|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.email.id_for_label }}">Email</label>
                    {{ form.email|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.phone_number.id_for_label }}">Phone Number</label>
                    {{ form.phone_number|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.date_of_birth.id_for_label }}">Date of Birth</label>
                    {{ form.date_of_birth|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.address.id_for_label }}">Address</label>
                    {{ form.address|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.emergency_contact.id_for_label }}">Emergency Contact</label>
                    {{ form.emergency_contact|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.insurance_provider.id_for_label }}">Insurance Provider</label>
                    {{ form.insurance_provider|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.department.id_for_label }}">Department</label>
                    {{ form.department|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.room_number.id_for_label }}">Room Number</label>
                    {{ form.room_number|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.medical_history.id_for_label }}">Medical History</label>
                    {{ form.medical_history|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.allergies.id_for_label }}">Allergies</label>
                    {{ form.allergies|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.last_visit_date.id_for_label }}">Last Visit Date</label>
                    {{ form.last_visit_date|add_class:"form-control" }}
                </div>

                <div class="form-group">
                    <label for="{{ form.status.id_for_label }}">Status</label>
                    {{ form.status|add_class:"form-control" }}
                </div>

                <button type="submit" class="btn btn-primary">Update Patient</button>
            </form>
        </div>
    </div>
</div>
{% if form.errors %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        {% for field, field_errors in form.errors.items %}
            {% for error in field_errors %}
                toastr.error("{{ error }}", "Error in {{ field|title }}", {
                    "closeButton": true,
                    "progressBar": true,
                    "timeOut": "5000"
                });
            {% endfor %}
        {% endfor %}
    });
</script>
{% endif %}

{% endblock %}
