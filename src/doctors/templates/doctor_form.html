{% extends 'base.html' %}

{% block title %}Create Doctor{% endblock %}
{% load static %}
{% block content %}
<div class="form-container">
    <h2>Create Doctor</h2>
    <form method="post">
        {% csrf_token %}
        {% block extra_css %}
        <link rel="stylesheet" href="{% static 'doctor_form.css' %}">
        {% endblock %}

        <!-- Include the common basic information fields -->
        {% include 'basic_info_form.html' %}

        <div class="form-group">
            <label for="specialty">Specialty:</label>
            <select name="specialty" id="specialty" class="form-control" required>
                {% for code, name in specialty_choices %}
                <option value="{{ code }}">{{ name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="license_number">License Number:</label>
            <input type="text" name="license_number" id="license_number" class="form-control" required>
        </div>

        <h3>Doctor Address</h3>
        <!-- Include the common address fields -->
        {% include 'address_form.html' with countries=countries %}

        <button type="submit" class="btn btn-primary">Create Doctor</button>

        {% if errors %}
        <div class="error-list">
            <ul>
                {% for field, error_list in errors.items %}
                {% for error in error_list %}
                <li>{{ field }}: {{ error }}</li>
                {% endfor %}
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </form>
</div>
{% endblock %}
